<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>movo</title>
    <link rel="stylesheet" href="{% static 'css/main_style.css' %}">
</head>
<body>

<header id="header" class="header">
    <div class="container header__container">
        <a href="/main" class="logo" id="logo">
            <svg width="105" height="22" viewBox="0 0 105 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                      d="M35 10.5417C35 4.71967 39.9249 0 46 0C52.0751 0 57 4.71967 57 10.5417V11.4583C57 17.2803 52.0751 22 46 22C39.9249 22 35 17.2803 35 11.4583V10.5417ZM48.0223 18.5823C50.9075 18.8696 53.3743 16.6114 53.2068 13.8362C53.1849 13.4745 53.1177 13.1166 53.0065 12.7703L51.3896 7.73416C51.3042 7.46844 51.2609 7.19198 51.2609 6.91396C51.2609 5.37366 49.9579 4.125 48.3507 4.125H46.4183C46.14 4.125 45.8606 4.10175 45.5864 4.05601C42.1056 3.47538 39.0318 6.33623 39.5705 9.68258L39.6521 10.1892C39.7386 10.7266 39.7386 11.2735 39.6521 11.8108L39.4716 12.9317C38.9699 16.0481 41.7057 18.7649 44.9734 18.3954C45.3378 18.3541 45.7059 18.3517 46.071 18.388L48.0223 18.5823Z"
                      fill="white"/>
                <path fill-rule="evenodd" clip-rule="evenodd"
                      d="M83 10.5417C83 4.71967 87.9249 0 94 0C100.075 0 105 4.71967 105 10.5417V11.4583C105 17.2803 100.075 22 94 22C87.9249 22 83 17.2803 83 11.4583V10.5417ZM96.0223 18.5823C98.9075 18.8696 101.374 16.6114 101.207 13.8362C101.185 13.4745 101.118 13.1166 101.007 12.7703L99.3896 7.73416C99.3042 7.46844 99.2609 7.19198 99.2609 6.91396C99.2609 5.37366 97.9579 4.125 96.3506 4.125H94.4183C94.14 4.125 93.8606 4.10175 93.5864 4.05601C90.1056 3.47538 87.0318 6.33623 87.5705 9.68258L87.6521 10.1892C87.7386 10.7266 87.7386 11.2735 87.6521 11.8108L87.4716 12.9317C86.9699 16.0481 89.7057 18.7649 92.9734 18.3954C93.3378 18.3541 93.7059 18.3517 94.071 18.388L96.0223 18.5823Z"
                      fill="white"/>
                <path d="M61.969 0C59.8207 0 58.3852 2.19724 59.261 4.14489L65.9851 19.0983C66.7788 20.8633 68.5436 22 70.4905 22C72.4374 22 74.2022 20.8633 74.9959 19.0983L81.7421 4.0958C82.6075 2.17122 81.189 0 79.0662 0C77.6412 0 76.4227 1.01777 76.1789 2.41175L73.8484 15.735C73.7575 16.2547 73.3032 16.6341 72.7719 16.6341H68.7969C68.258 16.6341 67.793 16.2588 67.6831 15.735L64.8722 2.34375C64.5857 0.978426 63.3737 0 61.969 0Z"
                      fill="white"/>
                <path d="M5.5 19.25C5.5 20.7688 4.26878 22 2.75 22C1.23122 22 0 20.7688 0 19.25V3.27381C0 1.75503 1.23122 0.52381 2.75 0.52381H4.73619C5.15803 0.52381 5.5 0.865779 5.5 1.28762C5.5 2.03027 6.45257 2.3361 6.88487 1.73224L7 1.57143C7.5 1.04762 8.7 0 9.5 0H14L15.0942 1.00303C16.7922 2.55954 19.3433 2.72852 21.2317 1.40958C22.0573 0.833 23.04 0.52381 24.047 0.52381H26.2777C27.4048 0.52381 28.5107 0.829548 29.4778 1.40845C30.7809 2.18854 31.7541 3.41775 32.2146 4.865L32.5635 5.96156C32.8528 6.87063 33 7.8189 33 8.77287V19.5C33 20.8807 31.8807 22 30.5 22C29.1193 22 28 20.8807 28 19.5V10.0739C28 8.99641 27.5421 7.96975 26.7404 7.24988C25.4282 6.07158 23.4772 5.9524 22.0314 6.96221L21.7845 7.13466C20.6662 7.91564 20 9.19359 20 10.5575V19C20 20.6569 18.6569 22 17 22C15.3431 22 14 20.6569 14 19V10.5031C14 9.16326 13.3849 7.89762 12.3313 7.06986L12.2169 6.97991C10.8786 5.92845 9.03425 5.80017 7.56336 6.65624C6.28586 7.39976 5.5 8.76642 5.5 10.2445V19.25Z"
                      fill="white"/>
            </svg>
        </a>
        <nav class="menu">
            <ul class="menu__list">
                <li class="menu__item">
                    <a class="menu__link" href="#">

                    </a>
                </li>
                <li class="menu__item">
                    <a class="menu__link" href="#">
                        Уведомления
                    </a>
                </li>
                <li class="menu__item">
                    <a class="menu__link" href="#">
                        Избранное
                    </a>
                </li>
                <li class="menu__item">
                    <a class="menu__link" href="#">
                        Профиль
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</header>

<div class="video-bg">
    <div class="imageblock"></div>
    <div class="effects"></div>
    <div class="video-bg__content">
        <h1>Забирай только воспоминания, оставляй только следы.</h1>
        <p>Откройте новые горизонты с надёжным гидом по всей стране.</p>

        <button id="createpath">Создать путь</button>
        <p id="error-message"></p>
    </div>
</div>

<div class="main_content">

    <div class="text_container">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi facilisis, lectus a
        condimentum egestas, orci nunc lobortis neque, ac pulvinar odio erat ac magna. Proin cursus ipsum dolor, et
        tincidunt felis consequat blandit. Aliquam erat volutpat. Phasellus vel ipsum mattis, accumsan eros non, mattis
        sem. Sed aliquet tincidunt est vitae lobortis. Mauris suscipit, odio quis luctus tincidunt, mi nisl eleifend
        leo, non mattis nunc orci quis nisl. Integer neque dui, laoreet vitae arcu in, porttitor convallis felis. Mauris
        luctus aliquam faucibus. Aenean malesuada, nulla ac luctus pellentesque, ex lorem auctor lacus, vitae mattis
        ipsum tortor id mi. Curabitur leo urna, molestie eget lorem pulvinar, tincidunt posuere elit. Phasellus varius
        mi at ex eleifend, non auctor quam aliquam. Cras quis risus ac sem commodo mollis ac eget tellus. Maecenas et
        interdum orci. Sed semper sem congue, dapibus lectus sed, imperdiet sapien.

        Aliquam erat volutpat. Nulla eget orci mollis, egestas metus sit amet, tincidunt mi. Suspendisse tortor neque,
        feugiat nec facilisis ac, ullamcorper at leo. Nulla facilisi. Fusce ultricies egestas finibus. Vivamus non
        efficitur eros, ut interdum lorem. Nullam luctus, eros vel interdum porttitor, augue magna tristique neque, a
        dapibus nisi libero et dolor. Donec vulputate risus ac semper iaculis. Curabitur risus quam, pulvinar id nulla
        non, sollicitudin varius turpis. Nunc ut metus aliquam, pulvinar odio non, fermentum nunc. Vestibulum posuere
        elementum consectetur. Morbi id feugiat lorem, et rutrum ipsum. Vestibulum a urna facilisis, ornare justo a,
        consectetur erat. Pellentesque ut lobortis neque, ut accumsan lacus. Sed tristique aliquet risus, at bibendum
        nulla eleifend at. Mauris in erat nec felis malesuada posuere.
         Aliquam erat volutpat. Nulla eget orci mollis, egestas metus sit amet, tincidunt mi. Suspendisse tortor neque,
        feugiat nec facilisis ac, ullamcorper at leo. Nulla facilisi. Fusce ultricies egestas finibus. Vivamus non
        efficitur eros, ut interdum lorem. Nullam luctus, eros vel interdum porttitor, augue magna tristique neque, a
        dapibus nisi libero et dolor. Donec vulputate risus ac semper iaculis. Curabitur risus quam, pulvinar id nulla
        non, sollicitudin varius turpis. Nunc ut metus aliquam, pulvinar odio non, fermentum nunc. Vestibulum posuere
        elementum consectetur. Morbi id feugiat lorem, et rutrum ipsum. Vestibulum a urna facilisis, ornare justo a,
        consectetur erat. Pellentesque ut lobortis neque, ut accumsan lacus. Sed tristique aliquet risus, at bibendum
        nulla eleifend at. Mauris in erat nec felis malesuada posuere.

        Aliquam accumsan imperdiet nunc. Morbi eget maximus dui. Integer in laoreet eros. Sed nec ultrices purus. Sed
        suscipit lorem vel varius mollis. Sed convallis sapien ac finibus dignissim. Aliquam euismod venenatis dui, sit
        amet gravida magna semper viverra. Sed vitae suscipit justo. Vivamus pharetra dui sit amet semper maximus.

        Morbi fermentum odio eu condimentum fermentum. Donec ultrices urna elementum tellus sollicitudin egestas. Lorem
        ipsum dolor sit amet, consectetur adipiscing elit. Sed congue, arcu nec molestie fermentum, felis magna eleifend
        ante, sit amet tincidunt velit arcu volutpat quam. In at sodales nisl. Vestibulum congue lacus urna, sed
        vulputate nulla pretium a. Integer dictum tempor lorem, ac porttitor justo fringilla et. Cras consectetur porta
        ante, ac euismod mauris mattis sagittis. Praesent sagittis dictum dapibus.

        Phasellus tempor, ipsum vel finibus mollis, tortor urna commodo eros, a molestie massa magna ac velit. Integer
        mattis consectetur lorem at pharetra. Donec volutpat non elit eu bibendum. Vivamus vitae finibus purus.
        Curabitur elit odio, viverra ut erat at, gravida mattis lectus. Fusce id finibus risus. Fusce eget ornare nisi.
        Nunc est nunc, fringilla in egestas a, dictum venenatis urna. Nunc consequat magna eget consectetur gravida.
        Nunc dolor nulla, feugiat ac lacus ut, volutpat dignissim nibh. Praesent et lorem arcu. Sed egestas rhoncus odio
        vel eleifend. Aliquam erat volutpat. Suspendisse placerat arcu ac quam aliquam placerat. Phasellus vel
        sollicitudin libero.
    </div>

</div>
{% for path in paths %}
    <div>
        <div>
            <h1 style="position:absolute;left:60%;">{{ path.name }}</h1>
            <img style="position:absolute;left:20%;" src="{{ path.hotel_Main_Img.url }}">
            <p style="position:absolute;left:60%; margin-top: 70px">{{ path.text }}</p>
            <a href="{% url 'path' path.pk %}">aaa</a>
        </div>
    </div>
{% endfor %}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        $("#createpath").click(function () {
            $.ajax({
                type: "POST",
                url: "/check_user/",
                data: {
                    csrfmiddlewaretoken: '{{ csrf_token }}'
                },
                success: function (response) {
                    if (response.is_authenticated) {
                        window.location.href = "/redactor";
                    } else {
                        let errorMessageParagraph = document.getElementById("error-message");
                        errorMessageParagraph.textContent = response.error_message;
                    }
                },
                error: function (xhr, textStatus, errorThrown) {
                    // позже сделать обработчик ошибок
                }
            });
        });
    });

    const headerEl = document.getElementById("header")
    const logo = document.getElementById("logo");
    const paths = logo.querySelectorAll("path");

    window.addEventListener("scroll", function () {
        const scrollPos = window.scrollY

        if (scrollPos > 80) {
            headerEl.classList.add("header_effects");
            paths.forEach(path => {
                path.style.fill = "black";
            });
        } else {
            headerEl.classList.remove("header_effects")
            paths.forEach(path => {
                path.style.fill = "white";
            });
        }
    })
</script>
</body>
</html>